# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# A simple name describing the Alvearie pattern implemented by this Helm values file
pattern: "Clinical Enrichment"

# ------------------------------------------------------------------------------
# Nifi Configuration
# Values: https://github.com/cetic/helm-nifi/blob/master/values.yaml
# ------------------------------------------------------------------------------
nifi:
  extraContainers:
    - name: post-start-setup
      image: alvearie/nifi-setup:0.1.5
      imagePullPolicy: Always
      env:
      - name: "RELEASE_NAME"
        value: "enrich"
      - name: "NIFI_REGISTRY"
        value: "default"
      - name: "ADD_CLINICAL_INGESTION"
        value: "false"
      - name: "ADD_CLINICAL_ENRICHMENT"
        value: "true"
      - name: "FHIR_PW"
        value: "integrati0n"
      - name: "KAFKA_PW"
        value: "integrati0n"
      - name: "ADD_NLP_INSIGHTS"
        value: "True"
      - name: "RUN_ASCVD"
        value: "True"
      - name: "RESOLVE_TERMINOLOGY"
        value: "True"
      - name: "DEIDENTIFY_DATA"
        value: "True"
      - name: "DEID_CONFIG_NAME"
        value: "default"
      - name: "DEID_PUSH_TO_FHIR"
        value: "True"
      - name: "INTERNAL_HOSTNAME"
        value: alvearie-nifi-0.alvearie-nifi-headless.atc.svc.cluster.local
      - name: "HTTPS_PORT"
        value: "8443"

fhir:
  notifications:
    kafka:
      enabled: true
      topicName: "fhir.notification"
      bootstrapServers: "enrich-kafka:9092"
      password: "integrati0n"
      securityProtocol: "PLAINTEXT"

fhir-trigger:
  enabled: true
