<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>/home/ntl/git/health-patterns/services/nlp-insights/.README.md.html</title>


<style type="text/css">
body {
	color: #333;
	font: 13px/1.4 "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	padding: 0;
	margin: 0;
}

a {
	background: transparent;
	color: #4183c4;
	text-decoration: none;
}

a:active,
a:hover {
	outline: 0 none;
	text-decoration: underline;
}

abbr[title] {
	border-bottom: 1px dotted;
}

b,
strong {
	font-weight: bold;
}

dfn {
	font-style: italic;
}
h1 {
	font-size: 2em;
	margin: 0.67em 0;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup {
	top: -0.5em;
}
sub {
	bottom: -0.25em;
}
img {
	border: 0 none;
}
svg:not(:root) {
	overflow: hidden;
}
figure {
	margin: 1em 40px;
}
hr {
	box-sizing: content-box;
	height: 0;
}

code,
kbd,
pre,
samp {
	font-family: monospace,monospace;
	font-size: 1em;
}

pre {
	overflow: auto;
	font: 12px Consolas,"Liberation Mono",Menlo,Courier,monospace;
	margin-bottom: 0;
	margin-top: 0;
}

.markdown-body {
	padding: 30px;
	font-size: 16px;
	line-height: 1.6;
	word-wrap: break-word;
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body .absent {
	color: #c00;
}

.markdown-body .anchor {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	position: relative;
	margin-top: 1em;
	margin-bottom: 16px;
	font-weight: bold;
	line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	display: none;
	color: #000;
	vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	display: inline-block;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
	font-size: inherit;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2.25em;
	line-height: 1.2;
	border-bottom: 1px solid #eee;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.75em;
	line-height: 1.225;
	border-bottom: 1px solid #eee;
}

.markdown-body h3 {
	font-size: 1.5em;
	line-height: 1.43;
}

.markdown-body h4 {
	font-size: 1.25em;
}

.markdown-body h5 {
	font-size: 1em;
}

.markdown-body h6 {
	font-size: 1em;
	color: #777;
}

.markdown-body p,.markdown-body blockquote,
.markdown-body ul,.markdown-body ol,
.markdown-body dl,.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
	padding: 0;
	list-style-type: none;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body blockquote {
	padding: 0 15px;
	color: #777;
	border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}

.markdown-body table th {
	font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}

.markdown-body img {
	max-width: 100%;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.markdown-body span.frame {
	display: block;
	overflow: hidden;
}

.markdown-body span.frame>span {
	display: block;
	float: left;
	width: auto;
	padding: 7px;
	margin: 13px 0 0;
	overflow: hidden;
	border: 1px solid #ddd;
}

.markdown-body span.frame span img {
	display: block;
	float: left;
}

.markdown-body span.frame span span {
	display: block;
	padding: 5px 0 0;
	clear: both;
	color: #333;
}

.markdown-body span.align-center {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-center>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: center;
}

.markdown-body span.align-center span img {
	margin: 0 auto;
	text-align: center;
}

.markdown-body span.align-right {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-right>span {
	display: block;
	margin: 13px 0 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body span.align-right span img {
	margin: 0;
	text-align: right;
}

.markdown-body span.float-left {
	display: block;
	float: left;
	margin-right: 13px;
	overflow: hidden;
}

.markdown-body span.float-left span {
	margin: 13px 0 0;
}

.markdown-body span.float-right {
	display: block;
	float: right;
	margin-left: 13px;
	overflow: hidden;
}

.markdown-body span.float-right>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body code,.markdown-body tt {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after,
.markdown-body tt:before,
.markdown-body tt:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}

.markdown-body code br,
.markdown-body tt br {
	display: none;
}

.markdown-body del code {
	text-decoration: inherit;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre code,
.markdown-body pre tt {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after,
.markdown-body pre tt:before,
.markdown-body pre tt:after {
	content: normal;
}

.highlight .pl-coc,
.highlight .pl-entl,
.highlight .pl-entm,
.highlight .pl-eoa,
.highlight .pl-mai .pl-sf,
.highlight .pl-mm,
.highlight .pl-pdv,
.highlight .pl-sc,
.highlight .pl-som,
.highlight .pl-sr,
.highlight .pl-v,
.highlight .pl-vpf {
	color: #0086b3;
}
.highlight .pl-eoac,
.highlight .pl-mdht,
.highlight .pl-mi1,
.highlight .pl-mri,
.highlight .pl-va,
.highlight .pl-vpu {
	color: #008080;
}
.highlight .pl-c,
.highlight .pl-pdc {
	color: #b4b7b4;
	font-style: italic;
}
.highlight .pl-k,
.highlight .pl-ko,
.highlight .pl-kolp,
.highlight .pl-mc,
.highlight .pl-mr,
.highlight .pl-ms,
.highlight .pl-s,
.highlight .pl-sok,
.highlight .pl-st {
	color: #6e5494;
}
.highlight .pl-ef,
.highlight .pl-enf,
.highlight .pl-enm,
.highlight .pl-entc,
.highlight .pl-eoi,
.highlight .pl-sf,
.highlight .pl-smc {
	color: #d12089;
}
.highlight .pl-ens,
.highlight .pl-eoai,
.highlight .pl-kos,
.highlight .pl-mh .pl-pdh,
.highlight .pl-mp,
.highlight .pl-pde,
.highlight .pl-stp {
	color: #458;
}
.highlight .pl-enti {
	color: #d12089;
	font-weight: bold;
}
.highlight .pl-cce,
.highlight .pl-enc,
.highlight .pl-kou,
.highlight .pl-mq {
	color: #f93;
}
.highlight .pl-mp1 .pl-sf {
	color: #458;
	font-weight: bold;
}
.highlight .pl-cos,
.highlight .pl-ent,
.highlight .pl-md,
.highlight .pl-mdhf,
.highlight .pl-ml,
.highlight .pl-pdc1,
.highlight .pl-pds,
.highlight .pl-s1,
.highlight .pl-scp,
.highlight .pl-sol {
	color: #df5000;
}
.highlight .pl-c1,
.highlight .pl-cn,
.highlight .pl-pse,
.highlight .pl-pse .pl-s2,
.highlight .pl-vi {
	color: #a31515;
}
.highlight .pl-mb,
.highlight .pl-pdb {
	color: #df5000;
	font-weight: bold;
}
.highlight .pl-mi,
.highlight .pl-pdi {
	color: #6e5494;
	font-style: italic;
}
.highlight .pl-ms1 {
	background-color: #f5f5f5;
}
.highlight .pl-mdh,
.highlight .pl-mdi {
	font-weight: bold;
}
.highlight .pl-mdr {
	color: #0086b3;
	font-weight: bold;
}
.highlight .pl-s2 {
	color: #333;
}
.highlight .pl-ii {
	background-color: #df5000;
	color: #fff;
}
.highlight .pl-ib {
	background-color: #f93;
}
.highlight .pl-id {
	background-color: #a31515;
	color: #fff;
}
.highlight .pl-iu {
	background-color: #b4b7b4;
}
.highlight .pl-mo {
	color: #969896;
}

</style>


<script type="text/javascript">

function getDocumentScrollTop() 
{
   var res = document.body.scrollTop || document.documentElement.scrollTop || window.pageYOffset || 0;
   // alert(res);
   return res;
}

function setDocumentScrollTop(ypos) 
{
	window.scrollTo(0, ypos);
}

</script>


</head>
<body class="markdown-body">
<h1> <a id="nlp-insights" class="anchor" href="#nlp-insights" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NLP Insights</h1> 
<p>A Rest service for discovering insights within FHIR resources. The service is implemented as a Flask API within a docker container.</p> 
<h2> <a id="purpose" class="anchor" href="#purpose" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Purpose</h2> 
<p>The primary purpose of the discover insights API is to accept a bundle of FHIR resources and to return a bundle that contains:</p> 
<ul> 
 <li>Resources from the input bundle that have been enriched with additional codes.</li> 
 <li>New resources that have been derived from resources in the input bundle</li> 
</ul> 
<h2> <a id="resources-that-are-enriched" class="anchor" href="#resources-that-are-enriched" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Resources that are enriched</h2> 
<p>Existing codes and text are used to derive additional codes for these resource elements:</p> 
<ul> 
 <li>Allergy Intolerance 
  <ul> 
   <li>AllergyIntolerance.code</li> 
  </ul> </li> 
 <li>Condition 
  <ul> 
   <li>Condition.code</li> 
  </ul> </li> 
</ul> 
<h2> <a id="new-resources-that-are-derived-from-input-resources" class="anchor" href="#new-resources-that-are-derived-from-input-resources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>New resources that are derived from input resources</h2> 
<p>The service will derive the following FHIR resources from unstructured text:</p> 
<ul> 
 <li>MedicationStatement</li> 
 <li>Condition</li> 
</ul> 
<p>The source text used to derive these new resources is found in the following resource elements:</p> 
<ul> 
 <li>DiagnosticReport 
  <ul> 
   <li>DiagnosticReport.presentedForm[].data</li> 
  </ul> </li> 
 <li>DocumentReference 
  <ul> 
   <li>DocumentReference.content[].attachment.data</li> 
  </ul> </li> 
</ul> 
<h2> <a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick Start</h2> 
<p>See our quick start guides:</p> 
<ul> 
 <li><a href="./doc/examples/quickumls/.quickumls_tutorial.md.html">Tutorial for using the nlp-insights service with QuickUMLS</a></li> 
 <li><a href="./doc/examples/acd/.acd_tutorial.md.html">Tutorial for using the nlp-insights service with ACD</a></li> 
</ul> 
<h1> <a id="running-the-service" class="anchor" href="#running-the-service" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running the service</h1> 
<p>It is recommended that the service be deployed as a docker container, however you can run it outside of docker if necessary.</p> 
<p>We use gradle as our build framework. It is recommended that you use the wrapper that is included in this git repo for build related activities. If you are using windows, use <code>gradlew.bat</code> instead of <code>gradlew</code>, <code>gradlew</code> is used in these directions.</p> 
<p>A prerequisite to these directions is python 3.9 and pip. Docker builds will also require a container runtime.</p> 
<p>These instructions assume that build properties are set via the command line, however you can set defaults for them by modifying <code>gradle.properties</code>.</p> 
<h2> <a id="running-the-service-outside-of-a-docker-container" class="anchor" href="#running-the-service-outside-of-a-docker-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running the service outside of a docker container</h2> 
<ol> 
 <li> <p>Build and install nlp-insights to a virtual environment<br /> <code>./gradlew install</code></p> </li> 
 <li> <p>Switch to the <a href="https://docs.python.org/3/library/venv.html" rel="nofollow">virtual env</a> where nlp-insights is installed<br /> <code>source ./build/venv/bin/activate</code></p> </li> 
 <li> <p>Set the FLASK_APP environment variable to the installed package<br /> <code>export FLASK_APP=nlp_insights.app</code></p> </li> 
 <li> <p>Start the service (5000 is the default port, however this value can be changed to suit your needs)<br /> <code>python -m flask run --port=5000</code></p> </li> 
</ol> 
<h2> <a id="running-the-service-locally-as-a-docker-container" class="anchor" href="#running-the-service-locally-as-a-docker-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running the service locally as a docker container</h2> 
<p><strong>Start the container</strong><br /> <code>./gradlew dockerRun -PdockerUser=&lt;your_user_id&gt; -PdockerLocalPort=&lt;port&gt;</code></p> 
<p>The server is now running on the selected port. If you omit the dockerLocalPort property, 5000 is the default port.<br /> The dockerRun task will also perform the following dependent build tasks:</p> 
<ul> 
 <li>nlp-insights will be built and installed to the virtual environment</li> 
 <li>the docker image will be built</li> 
 <li>unit tests will run</li> 
</ul> 
<h3> <a id="other-useful-commands-for-locally-working-with-containers" class="anchor" href="#other-useful-commands-for-locally-working-with-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other useful commands for locally working with containers:</h3> 
<ol> 
 <li>Stop a running nlp-insights container<br /> <code>./gradlew dockerStop -PdockerUser=&lt;your_user_id&gt; -PdockerLocalPort=&lt;port&gt;</code> </li> 
 <li>Remove a container from your local repo<br /> <code>./gradlew dockerRemoveContainer -PdockerUser=&lt;your_user_id&gt; -PdockerLocalPort=&lt;port&gt;</code> </li> 
</ol> 
<h2> <a id="deploy-the-docker-image-to-a-kubernetes-cluster" class="anchor" href="#deploy-the-docker-image-to-a-kubernetes-cluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Deploy the docker image to a kubernetes cluster</h2> 
<ol> 
 <li>Log into your cloud provider and container registry. The commands to do this depend on your cloud provider.</li> 
 <li>Push the docker image to the remote repository <code>./gradlew dockerPush -PdockerUser=&lt;docker_user_id&gt;</code> </li> 
 <li>Install the helm charts (The version that was used to tag the docker image is defined in gradle.properties)<br /> <code>helm install nlp-insights chart --set image.repository=&lt;docker_user_id&gt;/nlp-insights --set image.tag=&lt;version&gt;</code> </li> 
 <li>Wait for the pod to start running <code>kubectl get pods</code> (look for &quot;nlp-insights-*&quot;)</li> 
 <li>Connect to the pod's port 5000 <code>kubectl port-forward nlp-insights-xxxxxx-xxxx &lt;local-port&gt;:5000</code> </li> 
</ol> 
<p>You can now connect to the service via localhost:</p> 
<p>Be aware that some cloud providers may require additional configuration in order for the deployment to work. For example you may need to create a pull secret. Consult your provider's documentation for details.</p> 
<h1> <a id="using-the-service" class="anchor" href="#using-the-service" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using the service</h1> 
<p>The app currently supports running two different NLP engine types:</p> 
<ul> 
 <li> <a href="https://www.ibm.com/cloud/watson-annotator-for-clinical-data" rel="nofollow">IBM's Annotator for Clinical Data (ACD)</a> and</li> 
 <li><a href="https://github.com/Georgetown-IR-Lab/QuickUMLS" rel="nofollow">open-source QuickUMLS</a></li> 
</ul> 
<p>It is possible to configure as many different instances of these two engines as needed with different configuration details. Configuation jsons require a <code>name</code>, an <code>nlpServiceType</code> (either <code>acd</code> or <code>quickumls</code>), and config details specific to that type. For quickumls, an <code>endpoint</code> is required. For ACD, an <code>endpoint</code>, an <code>apikey</code>, and a <code>flow</code>.</p> 
<h2> <a id="http-endpoints" class="anchor" href="#http-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HTTP Endpoints</h2> 
<table> 
 <thead> 
  <tr> 
   <th align="center">Action</th> 
   <th align="center">Method</th> 
   <th align="left">Endpoint</th> 
   <th align="center">Body</th> 
   <th align="center">Returns on Success</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td align="center">Get All Configs</td> 
   <td align="center"><code>GET</code></td> 
   <td align="left"><code>/all_configs</code></td> 
   <td align="center"></td> 
   <td align="center">Newline-delimited list of config names</td> 
  </tr> 
  <tr> 
   <td align="center">Add Named Config</td> 
   <td align="center"><code>PUT/POST</code></td> 
   <td align="left"><code>/config/definition</code></td> 
   <td align="center">Config (json) contains <code>name</code> </td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Get Current Default Config</td> 
   <td align="center"><code>GET</code></td> 
   <td align="left"><code>/config</code></td> 
   <td align="center"></td> 
   <td align="center">Current default <code>configName</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Get Config Details</td> 
   <td align="center"><code>GET</code></td> 
   <td align="left"><code>/config/{configName}</code></td> 
   <td align="center"></td> 
   <td align="center">Config details named <code>configName</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Delete Config</td> 
   <td align="center"><code>DELETE</code></td> 
   <td align="left"><code>/config/{configName}</code></td> 
   <td align="center"></td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Make Config default</td> 
   <td align="center"><code>POST/PUT</code></td> 
   <td align="left"><code>/config/setDefault?name={configName}</code></td> 
   <td align="center"></td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Clear default config</td> 
   <td align="center"><code>POST/PUT</code></td> 
   <td align="left"><code>/config/clearDefault</code></td> 
   <td align="center"></td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Apply NLP</td> 
   <td align="center"><code>POST</code></td> 
   <td align="left"><code>/discoverInsights</code></td> 
   <td align="center">FHIR bundle or resource</td> 
   <td align="center">Object annotated with NLP insights</td> 
  </tr> 
  <tr> 
   <td align="center">Get all active overrides</td> 
   <td align="center"><code>GET</code></td> 
   <td align="left"><code>/config/resource</code></td> 
   <td align="center"></td> 
   <td align="center">dictionary-Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Get the active override for a resource</td> 
   <td align="center"><code>GET</code></td> 
   <td align="left"><code>/config/resource/{resource}</code></td> 
   <td align="center"></td> 
   <td align="center"> <code>configName</code>-Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Add resource override</td> 
   <td align="center"><code>POST/PUT</code></td> 
   <td align="left"><code>/config/resource/{resourcetype}/{configName}</code></td> 
   <td align="center"></td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Delete a resource override</td> 
   <td align="center"><code>DELETE</code></td> 
   <td align="left"><code>/config/resource/{resourcetype}</code></td> 
   <td align="center"></td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
  <tr> 
   <td align="center">Delete all resource overrides</td> 
   <td align="center"><code>DELETE</code></td> 
   <td align="left"><code>/config/resource</code></td> 
   <td align="center"></td> 
   <td align="center">Status <code>200</code> </td> 
  </tr> 
 </tbody> 
</table> 
<h2> <a id="configuring-at-deploy-time" class="anchor" href="#configuring-at-deploy-time" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuring at deploy time</h2> 
<p>It is possible to provide an initial (deploy time) named configuration for quickulms and/or acd. This is done by modifying the <code>values.yaml</code> file before deployment. In the nlp-insights chart, the following configuration values are defined:</p> 
<pre><code>nlpservice:
  quickumls:
    enableconfig: false
    name:
    endpoint:
  acd:
    enableconfig: false
    name:
    endpoint:
    apikey:
    flow:
  default:
</code></pre> 
<p>By setting the appropriate <code>enableconfig</code> flag to true and providing the <code>name</code> of the config as well as the details (dependent on the type of the nlp engine), an initial named configuration will be created. In addition, the configuration can be made the default by setting the <code>default</code> value to one of the previously defined names.</p> 
<h3> <a id="example-config-jsons" class="anchor" href="#example-config-jsons" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example config jsons:</h3> 
<pre><code>{
  &quot;name&quot;: &quot;quickconfig1&quot;,
  &quot;nlpServiceType&quot;: &quot;quickumls&quot;,
  &quot;config&quot;: {
    &quot;endpoint&quot;: &quot;https://quickumlsEndpointURL/match&quot;
  }
}
</code></pre> 
<pre><code>{
  &quot;name&quot;: &quot;acdconfig1&quot;,
  &quot;nlpServiceType&quot;: &quot;acd&quot;,
  &quot;config&quot;: {
    &quot;apikey&quot;: &quot;apikeyxxxxxxxxx&quot;,
    &quot;endpoint&quot;: &quot;https://acdEndpointURL/api&quot;,
    &quot;flow&quot;: &quot;acd_standard_flow&quot;
  }
}
</code></pre> 
<h1> <a id="coding-style-guidlines" class="anchor" href="#coding-style-guidlines" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Coding style guidlines</h1> 
<p>This project makes use of several coding conventions and tools.</p> 
<h2> <a id="formatting" class="anchor" href="#formatting" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Formatting</h2> 
<p>The project is formatted using <a href="https://black.readthedocs.io/en/stable/" rel="nofollow">Black</a></p> 
<h2> <a id="unit-tests" class="anchor" href="#unit-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Unit tests</h2> 
<p>Unit tests and Doc tests are part of the build process<br /> <code>./gradlew test</code></p> 
<h2> <a id="static-code-checking" class="anchor" href="#static-code-checking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static code checking</h2> 
<p>The project uses a combination of flake8, pylint, and mypy to detect static code problems. The configuration is defined in <code>setup.cfg</code>. These checks can be run as a build task (this will also run unit tests).<br /> <code>./gradlew checkSource</code></p>
</body>
</html>
