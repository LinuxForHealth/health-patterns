<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>/home/ntl/git/health-patterns/services/nlp-insights/doc/examples/acd/.enrich.md.html</title>


<style type="text/css">
body {
	color: #333;
	font: 13px/1.4 "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
	padding: 0;
	margin: 0;
}

a {
	background: transparent;
	color: #4183c4;
	text-decoration: none;
}

a:active,
a:hover {
	outline: 0 none;
	text-decoration: underline;
}

abbr[title] {
	border-bottom: 1px dotted;
}

b,
strong {
	font-weight: bold;
}

dfn {
	font-style: italic;
}
h1 {
	font-size: 2em;
	margin: 0.67em 0;
}
mark {
	background: #ff0;
	color: #000;
}
small {
	font-size: 80%;
}
sub, sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}
sup {
	top: -0.5em;
}
sub {
	bottom: -0.25em;
}
img {
	border: 0 none;
}
svg:not(:root) {
	overflow: hidden;
}
figure {
	margin: 1em 40px;
}
hr {
	box-sizing: content-box;
	height: 0;
}

code,
kbd,
pre,
samp {
	font-family: monospace,monospace;
	font-size: 1em;
}

pre {
	overflow: auto;
	font: 12px Consolas,"Liberation Mono",Menlo,Courier,monospace;
	margin-bottom: 0;
	margin-top: 0;
}

.markdown-body {
	padding: 30px;
	font-size: 16px;
	line-height: 1.6;
	word-wrap: break-word;
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body .absent {
	color: #c00;
}

.markdown-body .anchor {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	display: block;
	padding-right: 6px;
	padding-left: 30px;
	margin-left: -30px;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	position: relative;
	margin-top: 1em;
	margin-bottom: 16px;
	font-weight: bold;
	line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	display: none;
	color: #000;
	vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	padding-left: 8px;
	margin-left: -30px;
	line-height: 1;
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	display: inline-block;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
	font-size: inherit;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2.25em;
	line-height: 1.2;
	border-bottom: 1px solid #eee;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.75em;
	line-height: 1.225;
	border-bottom: 1px solid #eee;
}

.markdown-body h3 {
	font-size: 1.5em;
	line-height: 1.43;
}

.markdown-body h4 {
	font-size: 1.25em;
}

.markdown-body h5 {
	font-size: 1em;
}

.markdown-body h6 {
	font-size: 1em;
	color: #777;
}

.markdown-body p,.markdown-body blockquote,
.markdown-body ul,.markdown-body ol,
.markdown-body dl,.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 4px;
	padding: 0;
	margin: 16px 0;
	background-color: #e7e7e7;
	border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
	padding: 0;
	list-style-type: none;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: bold;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body blockquote {
	padding: 0 15px;
	color: #777;
	border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
	word-break: normal;
	word-break: keep-all;
}

.markdown-body table th {
	font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #ddd;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f8f8f8;
}

.markdown-body img {
	max-width: 100%;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.markdown-body span.frame {
	display: block;
	overflow: hidden;
}

.markdown-body span.frame>span {
	display: block;
	float: left;
	width: auto;
	padding: 7px;
	margin: 13px 0 0;
	overflow: hidden;
	border: 1px solid #ddd;
}

.markdown-body span.frame span img {
	display: block;
	float: left;
}

.markdown-body span.frame span span {
	display: block;
	padding: 5px 0 0;
	clear: both;
	color: #333;
}

.markdown-body span.align-center {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-center>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: center;
}

.markdown-body span.align-center span img {
	margin: 0 auto;
	text-align: center;
}

.markdown-body span.align-right {
	display: block;
	overflow: hidden;
	clear: both;
}

.markdown-body span.align-right>span {
	display: block;
	margin: 13px 0 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body span.align-right span img {
	margin: 0;
	text-align: right;
}

.markdown-body span.float-left {
	display: block;
	float: left;
	margin-right: 13px;
	overflow: hidden;
}

.markdown-body span.float-left span {
	margin: 13px 0 0;
}

.markdown-body span.float-right {
	display: block;
	float: right;
	margin-left: 13px;
	overflow: hidden;
}

.markdown-body span.float-right>span {
	display: block;
	margin: 13px auto 0;
	overflow: hidden;
	text-align: right;
}

.markdown-body code,.markdown-body tt {
	padding: 0;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(0,0,0,0.04);
	border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after,
.markdown-body tt:before,
.markdown-body tt:after {
	letter-spacing: -0.2em;
	content: "\00a0";
}

.markdown-body code br,
.markdown-body tt br {
	display: none;
}

.markdown-body del code {
	text-decoration: inherit;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f7f7f7;
	border-radius: 3px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre code,
.markdown-body pre tt {
	display: inline;
	max-width: initial;
	padding: 0;
	margin: 0;
	overflow: initial;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after,
.markdown-body pre tt:before,
.markdown-body pre tt:after {
	content: normal;
}

.highlight .pl-coc,
.highlight .pl-entl,
.highlight .pl-entm,
.highlight .pl-eoa,
.highlight .pl-mai .pl-sf,
.highlight .pl-mm,
.highlight .pl-pdv,
.highlight .pl-sc,
.highlight .pl-som,
.highlight .pl-sr,
.highlight .pl-v,
.highlight .pl-vpf {
	color: #0086b3;
}
.highlight .pl-eoac,
.highlight .pl-mdht,
.highlight .pl-mi1,
.highlight .pl-mri,
.highlight .pl-va,
.highlight .pl-vpu {
	color: #008080;
}
.highlight .pl-c,
.highlight .pl-pdc {
	color: #b4b7b4;
	font-style: italic;
}
.highlight .pl-k,
.highlight .pl-ko,
.highlight .pl-kolp,
.highlight .pl-mc,
.highlight .pl-mr,
.highlight .pl-ms,
.highlight .pl-s,
.highlight .pl-sok,
.highlight .pl-st {
	color: #6e5494;
}
.highlight .pl-ef,
.highlight .pl-enf,
.highlight .pl-enm,
.highlight .pl-entc,
.highlight .pl-eoi,
.highlight .pl-sf,
.highlight .pl-smc {
	color: #d12089;
}
.highlight .pl-ens,
.highlight .pl-eoai,
.highlight .pl-kos,
.highlight .pl-mh .pl-pdh,
.highlight .pl-mp,
.highlight .pl-pde,
.highlight .pl-stp {
	color: #458;
}
.highlight .pl-enti {
	color: #d12089;
	font-weight: bold;
}
.highlight .pl-cce,
.highlight .pl-enc,
.highlight .pl-kou,
.highlight .pl-mq {
	color: #f93;
}
.highlight .pl-mp1 .pl-sf {
	color: #458;
	font-weight: bold;
}
.highlight .pl-cos,
.highlight .pl-ent,
.highlight .pl-md,
.highlight .pl-mdhf,
.highlight .pl-ml,
.highlight .pl-pdc1,
.highlight .pl-pds,
.highlight .pl-s1,
.highlight .pl-scp,
.highlight .pl-sol {
	color: #df5000;
}
.highlight .pl-c1,
.highlight .pl-cn,
.highlight .pl-pse,
.highlight .pl-pse .pl-s2,
.highlight .pl-vi {
	color: #a31515;
}
.highlight .pl-mb,
.highlight .pl-pdb {
	color: #df5000;
	font-weight: bold;
}
.highlight .pl-mi,
.highlight .pl-pdi {
	color: #6e5494;
	font-style: italic;
}
.highlight .pl-ms1 {
	background-color: #f5f5f5;
}
.highlight .pl-mdh,
.highlight .pl-mdi {
	font-weight: bold;
}
.highlight .pl-mdr {
	color: #0086b3;
	font-weight: bold;
}
.highlight .pl-s2 {
	color: #333;
}
.highlight .pl-ii {
	background-color: #df5000;
	color: #fff;
}
.highlight .pl-ib {
	background-color: #f93;
}
.highlight .pl-id {
	background-color: #a31515;
	color: #fff;
}
.highlight .pl-iu {
	background-color: #b4b7b4;
}
.highlight .pl-mo {
	color: #969896;
}

</style>


<script type="text/javascript">

function getDocumentScrollTop() 
{
   var res = document.body.scrollTop || document.documentElement.scrollTop || window.pageYOffset || 0;
   // alert(res);
   return res;
}

function setDocumentScrollTop(ypos) 
{
	window.scrollTo(0, ypos);
}

</script>


</head>
<body class="markdown-body">
<h1> <a id="enrich-fhir-resources-with-nlp-insights-and-acd" class="anchor" href="#enrich-fhir-resources-with-nlp-insights-and-acd" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enrich FHIR resources with nlp-insights and ACD</h1> 
<p>The nlp-insights service supports enrichment of the following types of FHIR resources:</p> 
<ul> 
 <li>Condition</li> 
 <li>AllergyIntolerance</li> 
</ul> 
<p>A resource is enriched by adding industry standard codes to the resource. These standard codes are derived from a resource's coding text using NLP. This particularly useful when a FHIR resource has a text description of the code, but does not contain industry standard codes such as SNOMED, ICD-9, ICD-10, etc.</p> 
<p>This tutorial provides examples of enrichment.</p> 
<h2> <a id="configure-nlp-insights-to-use-acd-for-nlp" class="anchor" href="#configure-nlp-insights-to-use-acd-for-nlp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure nlp-insights to use ACD for NLP</h2> 
<p>If the nlp-insights service has not been configured to use ACD by default, follow the steps <a href="./.configure_acd.md.html">here</a>.</p> 
<h2> <a id="enrich-a-condition" class="anchor" href="#enrich-a-condition" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enrich a Condition</h2> 
<p>In this example, the nlp-insights service is sent a bundle that contains a single condition. The condition has a code with text &quot;myocardial infarction&quot;, but no coding values. The service will add coding values to the code. This curl command is written to store the response in a file /tmp/output for later analysis.</p> 
<pre><code>curl  -w &quot;\n%{http_code}\n&quot; -s -o /tmp/output -XPOST localhost:5000/discoverInsights  -H 'Content-Type: application/json; charset=utf-8' --data-binary @- &lt;&lt; EOF
{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;id&quot;: &quot;abc&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: {
                &quot;id&quot;: &quot;abcefg-1234567890&quot;,
                &quot;code&quot;: {
                    &quot;text&quot;: &quot;myocardial infarction&quot;
                },
                &quot;subject&quot;: {
                    &quot;reference&quot;: &quot;Patient/97b51b8d-1d1b-497f-866c-8df5d6cc05a7&quot;
                },
                &quot;resourceType&quot;: &quot;Condition&quot;
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;POST&quot;,
                &quot;url&quot;: &quot;Condition&quot;
            }
        }
    ]
}
EOF
</code></pre> 
<details>
 <summary>output</summary> 
 <p>200</p> 
</details> 
<h3> <a id="enriched-condition" class="anchor" href="#enriched-condition" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enriched condition</h3> 
<p>The response from the service is a bundle with the enriched condition.</p> 
<p><code>cat /tmp/output | jq</code></p> 
<details>
 <summary>Returned Bundle</summary> 
 <div class="highlight highlight-source-json">
  <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>entry<span class="pl-pds">&quot;</span></span>: [
    {
      <span class="pl-s"><span class="pl-pds">&quot;</span>request<span class="pl-pds">&quot;</span></span>: {
        <span class="pl-s"><span class="pl-pds">&quot;</span>method<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>PUT<span class="pl-pds">&quot;</span></span>,
        <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Condition/abcefg-1234567890<span class="pl-pds">&quot;</span></span>
      },
      <span class="pl-s"><span class="pl-pds">&quot;</span>resource<span class="pl-pds">&quot;</span></span>: {
        <span class="pl-s"><span class="pl-pds">&quot;</span>id<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>abcefg-1234567890<span class="pl-pds">&quot;</span></span>,
        <span class="pl-s"><span class="pl-pds">&quot;</span>meta<span class="pl-pds">&quot;</span></span>: {
          <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
            {
              <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
                  <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
                    <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
                    <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>f5d5c76179f75f1883c92a6ef73d6cd9a103673518cabe2b38b7a180<span class="pl-pds">&quot;</span></span>
                  }
                },
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/path<span class="pl-pds">&quot;</span></span>,
                  <span class="pl-s"><span class="pl-pds">&quot;</span>valueString<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Condition.code.coding<span class="pl-pds">&quot;</span></span>
                },
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/reference<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueReference<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>reference<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Condition/abcefg-1234567890<span class="pl-pds">&quot;</span></span>
                      }
                    },
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/reference-path<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueString<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Condition.code.text<span class="pl-pds">&quot;</span></span>
                    },
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/evaluated-output<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueAttachment<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>contentType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>application/json<span class="pl-pds">&quot;</span></span>,
                        &quot;data&quot;: &quot;eyJhdHRyaWJ1dGVWYWx1ZXMiOiBbeyJiZWdpbiI6IDAsICJlbmQiOiAyMSwgImNvdmVyZWRUZXh0IjogIm15b2NhcmRpYWwgaW5mYXJjdGlvbiIsICJuZWdhdGVkIjogZmFsc2UsICJwcmVmZXJyZWROYW1lIjogIm15b2NhcmRpYWwgaW5mYXJjdGlvbiIsICJ2YWx1ZXMiOiBbeyJ2YWx1ZSI6ICJteW9jYXJkaWFsIGluZmFyY3Rpb24ifV0sICJzb3VyY2UiOiAiQ2xpbmljYWwgSW5zaWdodHMgLSBBdHRyaWJ1dGVzIiwgInNvdXJjZVZlcnNpb24iOiAidjEuMCIsICJjb25jZXB0IjogeyJ1aWQiOiA1fSwgIm5hbWUiOiAiRGlhZ25vc2lzIiwgImljZDlDb2RlIjogIjQxMC45MCIsICJpY2QxMENvZGUiOiAiSTIxLjkiLCAic25vbWVkQ29uY2VwdElkIjogIjIyMjk4MDA2IiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiVkFMSUQifSwgImluc2lnaHRNb2RlbERhdGEiOiB7ImRpYWdub3NpcyI6IHsidXNhZ2UiOiB7ImV4cGxpY2l0U2NvcmUiOiAwLjkxNywgInBhdGllbnRSZXBvcnRlZFNjb3JlIjogMC4wMDgsICJkaXNjdXNzZWRTY29yZSI6IDAuMDc1fSwgInN1c3BlY3RlZFNjb3JlIjogMC4wOTIsICJzeW1wdG9tU2NvcmUiOiAwLjAsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX0sICJjY3NDb2RlIjogIjEwMCIsICJoY2NDb2RlIjogIjg2In1dLCAiY29uY2VwdHMiOiBbeyJ0eXBlIjogInVtbHMuRmluZGluZyIsICJiZWdpbiI6IDAsICJlbmQiOiAyMSwgImNvdmVyZWRUZXh0IjogIm15b2NhcmRpYWwgaW5mYXJjdGlvbiIsICJuZWdhdGVkIjogZmFsc2UsICJjdWkiOiAiQzQ1NTI5NTkiLCAicHJlZmVycmVkTmFtZSI6ICJNeW9jYXJkaWFsIEluZmFyY3Rpb24sIENUQ0FFIiwgInNlbWFudGljVHlwZSI6ICJmbmRnIiwgInNvdXJjZSI6ICJ1bWxzIiwgInNvdXJjZVZlcnNpb24iOiAiMjAyMEFBIiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiTk9fREVDSVNJT04ifSwgIm5jaUNvZGUiOiAiQzE0MzY5MSIsICJ2b2NhYnMiOiAiTVRILE5DSV9DVENBRV81LE5DSSJ9LCB7InR5cGUiOiAidW1scy5MYWJvcmF0b3J5T3JUZXN0UmVzdWx0IiwgInVpZCI6IDMsICJiZWdpbiI6IDAsICJlbmQiOiAyMSwgImNvdmVyZWRUZXh0IjogIm15b2NhcmRpYWwgaW5mYXJjdGlvbiIsICJuZWdhdGVkIjogZmFsc2UsICJjdWkiOiAiQzA0Mjg5NTMiLCAicHJlZmVycmVkTmFtZSI6ICJFbGVjdHJvY2FyZGlvZ3JhbTogbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmaW5kaW5nKSIsICJzZW1hbnRpY1R5cGUiOiAibGJ0ciIsICJzb3VyY2UiOiAidW1scyIsICJzb3VyY2VWZXJzaW9uIjogIjIwMjBBQSIsICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIklOVkFMSUQifSwgImljZDEwQ29kZSI6ICJJMjEuNCxJMjEuMjksSTIxLjA5LEkyMS4xOSxSOTQuMzEsSTI1LjIsSTIxLjkiLCAibmNpQ29kZSI6ICJDMTAxNTg5IiwgInNub21lZENvbmNlcHRJZCI6ICIxNjQ4NjUwMDUiLCAidm9jYWJzIjogIkNIVixNVEgsTkNJX0NESVNDLE5DSSxTTk9NRURDVF9VUyJ9LCB7InR5cGUiOiAidW1scy5EaXNlYXNlT3JTeW5kcm9tZSIsICJ1aWQiOiAyLCAiYmVnaW4iOiAwLCAiZW5kIjogMjEsICJjb3ZlcmVkVGV4dCI6ICJteW9jYXJkaWFsIGluZmFyY3Rpb24iLCAibmVnYXRlZCI6IGZhbHNlLCAiY3VpIjogIkMwMDI3MDUxIiwgInByZWZlcnJlZE5hbWUiOiAiTXlvY2FyZGlhbCBJbmZhcmN0aW9uIiwgInNlbWFudGljVHlwZSI6ICJkc3luIiwgInNvdXJjZSI6ICJ1bWxzIiwgInNvdXJjZVZlcnNpb24iOiAiMjAyMEFBIiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiTk9fREVDSVNJT04ifSwgImljZDEwQ29kZSI6ICJJMjEuOSIsICJuY2lDb2RlIjogIkMyNzk5NiIsICJzbm9tZWRDb25jZXB0SWQiOiAiMjIyOTgwMDYiLCAibWVzaElkIjogIk0wMDE0MzQwIiwgImxvaW5jSWQiOiAiTVRIVTAzNTU1MSxMQTE0Mjc0LTcsTFA5ODg4NC03LExBMTYyODYtOSIsICJ2b2NhYnMiOiAiTkNJX05JQ0hELE1USCxMTkMsQ1NQLE1TSCxDU1QsSFBPLE9NSU0sTkNJX0NUQ0FFLENPU1RBUixBSVIsQ0hWLE5DSV9GREEsTUVETElORVBMVVMsTkNJLExDSF9OVyxBT0QsU05PTUVEQ1RfVVMsRFhQIiwgImluc2lnaHRNb2RlbERhdGEiOiB7ImRpYWdub3NpcyI6IHsidXNhZ2UiOiB7ImV4cGxpY2l0U2NvcmUiOiAwLjkxNywgInBhdGllbnRSZXBvcnRlZFNjb3JlIjogMC4wMDgsICJkaXNjdXNzZWRTY29yZSI6IDAuMDc1fSwgInN1c3BlY3RlZFNjb3JlIjogMC4wOTIsICJzeW1wdG9tU2NvcmUiOiAwLjAsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX19LCB7InR5cGUiOiAiSUNEaWFnbm9zaXMiLCAiYmVnaW4iOiAwLCAiZW5kIjogMjEsICJjb3ZlcmVkVGV4dCI6ICJteW9jYXJkaWFsIGluZmFyY3Rpb24iLCAibmVnYXRlZCI6IGZhbHNlLCAiY3VpIjogIkMwMDI3MDUxIiwgInByZWZlcnJlZE5hbWUiOiAiTXlvY2FyZGlhbCBJbmZhcmN0aW9uIiwgInNvdXJjZSI6ICJDbGluaWNhbCBJbnNpZ2h0cyAtIERlcml2ZWQgQ29uY2VwdHMiLCAic291cmNlVmVyc2lvbiI6ICJ2MS4wIiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiVkFMSUQifSwgImljZDEwQ29kZSI6ICJJMjEuOSIsICJuY2lDb2RlIjogIkMyNzk5NiIsICJzbm9tZWRDb25jZXB0SWQiOiAiMjIyOTgwMDYiLCAibWVzaElkIjogIk0wMDE0MzQwIiwgImxvaW5jSWQiOiAiTVRIVTAzNTU1MSxMQTE0Mjc0LTcsTFA5ODg4NC03LExBMTYyODYtOSIsICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC45MTcsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA4LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA3NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMDkyLCAic3ltcHRvbVNjb3JlIjogMC4wLCAidHJhdW1hU2NvcmUiOiAwLjAsICJmYW1pbHlIaXN0b3J5U2NvcmUiOiAwLjAwM319LCAicnVsZUlkIjogIjY5OGYyYjE5LTI3YjYtNGRhYi05MTUwLTdkN2VmM2IwM2E1YyIsICJkZXJpdmVkRnJvbSI6IFt7InVpZCI6IDJ9XX0sIHsidHlwZSI6ICJJQ05vcm1hbGl0eSIsICJiZWdpbiI6IDAsICJlbmQiOiAyMSwgImNvdmVyZWRUZXh0IjogIm15b2NhcmRpYWwgaW5mYXJjdGlvbiIsICJuZWdhdGVkIjogZmFsc2UsICJjdWkiOiAiQzA0Mjg5NTMiLCAicHJlZmVycmVkTmFtZSI6ICJFbGVjdHJvY2FyZGlvZ3JhbTogbXlvY2FyZGlhbCBpbmZhcmN0aW9uIChmaW5kaW5nKSIsICJzb3VyY2UiOiAiQ2xpbmljYWwgSW5zaWdodHMgLSBEZXJpdmVkIENvbmNlcHRzIiwgInNvdXJjZVZlcnNpb24iOiAidjEuMCIsICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIklOVkFMSUQifSwgInJ1bGVJZCI6ICJjMWU4ZDdkNC03ZDM2LTQyM2ItYjM5ZC00ZWJiNWViNjViMGMiLCAiZGVyaXZlZEZyb20iOiBbeyJ1aWQiOiAzfV19XSwgIlN5bXB0b21EaXNlYXNlSW5kIjogW3sidHlwZSI6ICJhY2kuU3ltcHRvbURpc2Vhc2VJbmQiLCAidWlkIjogNSwgImJlZ2luIjogMCwgImVuZCI6IDIxLCAiY292ZXJlZFRleHQiOiAibXlvY2FyZGlhbCBpbmZhcmN0aW9uIiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDAyNzA1MSIsICJpY2QxMENvZGUiOiAiSTIxLjkiLCAibW9kYWxpdHkiOiAicG9zaXRpdmUiLCAic3ltcHRvbURpc2Vhc2VTdXJmYWNlRm9ybSI6ICJteW9jYXJkaWFsIGluZmFyY3Rpb24iLCAic25vbWVkQ29uY2VwdElkIjogIjIyMjk4MDA2IiwgImNjc0NvZGUiOiAiMTAwIiwgInN5bXB0b21EaXNlYXNlTm9ybWFsaXplZE5hbWUiOiAibXlvY2FyZGlhbCBpbmZhcmN0aW9uIiwgImljZDlDb2RlIjogIjQxMC45MCIsICJoY2NDb2RlIjogIjg2IiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiVkFMSUQifSwgImluc2lnaHRNb2RlbERhdGEiOiB7ImRpYWdub3NpcyI6IHsidXNhZ2UiOiB7ImV4cGxpY2l0U2NvcmUiOiAwLjkxNywgInBhdGllbnRSZXBvcnRlZFNjb3JlIjogMC4wMDgsICJkaXNjdXNzZWRTY29yZSI6IDAuMDc1fSwgInN1c3BlY3RlZFNjb3JlIjogMC4wOTIsICJzeW1wdG9tU2NvcmUiOiAwLjAsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX19XSwgInNwZWxsQ29ycmVjdGVkVGV4dCI6IFt7ImNvcnJlY3RlZFRleHQiOiAibXlvY2FyZGlhbCBpbmZhcmN0aW9uIn1dfQ==&quot;
                      }
                    }
                  ],
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-detail<span class="pl-pds">&quot;</span></span>
                }
              ],
              <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight<span class="pl-pds">&quot;</span></span>
            }
          ]
        },
        <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: {
          <span class="pl-s"><span class="pl-pds">&quot;</span>coding<span class="pl-pds">&quot;</span></span>: [
            {
              <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
                        <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>f5d5c76179f75f1883c92a6ef73d6cd9a103673518cabe2b38b7a180<span class="pl-pds">&quot;</span></span>
                      }
                    },
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/category<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueCodeableConcept<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>coding<span class="pl-pds">&quot;</span></span>: [
                          {
                            <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>natural-language-processing<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system<span class="pl-pds">&quot;</span></span>
                          }
                        ],
                        <span class="pl-s"><span class="pl-pds">&quot;</span>text<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>
                      }
                    }
                  ],
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-summary<span class="pl-pds">&quot;</span></span>
                }
              ],
              <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>C0027051<span class="pl-pds">&quot;</span></span>,
              <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>myocardial infarction<span class="pl-pds">&quot;</span></span>,
              <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://terminology.hl7.org/CodeSystem/umls<span class="pl-pds">&quot;</span></span>
            },
            {
              <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
                        <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>f5d5c76179f75f1883c92a6ef73d6cd9a103673518cabe2b38b7a180<span class="pl-pds">&quot;</span></span>
                      }
                    },
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/category<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueCodeableConcept<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>coding<span class="pl-pds">&quot;</span></span>: [
                          {
                            <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>natural-language-processing<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system<span class="pl-pds">&quot;</span></span>
                          }
                        ],
                        <span class="pl-s"><span class="pl-pds">&quot;</span>text<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>
                      }
                    }
                  ],
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-summary<span class="pl-pds">&quot;</span></span>
                }
              ],
              <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>22298006<span class="pl-pds">&quot;</span></span>,
              <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://snomed.info/sct<span class="pl-pds">&quot;</span></span>
            },
            {
              <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
                        <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>f5d5c76179f75f1883c92a6ef73d6cd9a103673518cabe2b38b7a180<span class="pl-pds">&quot;</span></span>
                      }
                    },
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/category<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueCodeableConcept<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>coding<span class="pl-pds">&quot;</span></span>: [
                          {
                            <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>natural-language-processing<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system<span class="pl-pds">&quot;</span></span>
                          }
                        ],
                        <span class="pl-s"><span class="pl-pds">&quot;</span>text<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>
                      }
                    }
                  ],
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-summary<span class="pl-pds">&quot;</span></span>
                }
              ],
              <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>410.90<span class="pl-pds">&quot;</span></span>,
              <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://hl7.org/fhir/sid/icd-9-cm<span class="pl-pds">&quot;</span></span>
            },
            {
              <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                {
                  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
                        <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>f5d5c76179f75f1883c92a6ef73d6cd9a103673518cabe2b38b7a180<span class="pl-pds">&quot;</span></span>
                      }
                    },
                    {
                      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/category<span class="pl-pds">&quot;</span></span>,
                      <span class="pl-s"><span class="pl-pds">&quot;</span>valueCodeableConcept<span class="pl-pds">&quot;</span></span>: {
                        <span class="pl-s"><span class="pl-pds">&quot;</span>coding<span class="pl-pds">&quot;</span></span>: [
                          {
                            <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>natural-language-processing<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>,
                            <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system<span class="pl-pds">&quot;</span></span>
                          }
                        ],
                        <span class="pl-s"><span class="pl-pds">&quot;</span>text<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>
                      }
                    }
                  ],
                  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-summary<span class="pl-pds">&quot;</span></span>
                }
              ],
              <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>I21.9<span class="pl-pds">&quot;</span></span>,
              <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://hl7.org/fhir/sid/icd-10-cm<span class="pl-pds">&quot;</span></span>
            }
          ],
          <span class="pl-s"><span class="pl-pds">&quot;</span>text<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>myocardial infarction<span class="pl-pds">&quot;</span></span>
        },
        <span class="pl-s"><span class="pl-pds">&quot;</span>subject<span class="pl-pds">&quot;</span></span>: {
          <span class="pl-s"><span class="pl-pds">&quot;</span>reference<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Patient/97b51b8d-1d1b-497f-866c-8df5d6cc05a7<span class="pl-pds">&quot;</span></span>
        },
        <span class="pl-s"><span class="pl-pds">&quot;</span>resourceType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Condition<span class="pl-pds">&quot;</span></span>
      }
    }
  ],
  <span class="pl-s"><span class="pl-pds">&quot;</span>type<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>transaction<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>resourceType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Bundle<span class="pl-pds">&quot;</span></span>
}</pre>
 </div> 
</details> 
<p>The entry for the condition in the returned bundle has a method of <em>PUT</em>, which indicates that this resource has been enriched with additional codes.</p> 
<h3> <a id="condition-derived-codes" class="anchor" href="#condition-derived-codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Condition derived codes</h3> 
<p>ACD understands a wide variety of standard code systems. As a result SNOMED, ICD-9 and ICD-10 coding values are included in the condition, in addition to the UMLS concept id.</p> 
<table> 
 <thead> 
  <tr> 
   <th>System</th> 
   <th>Code</th> 
   <th>Display</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td><a href="http://terminology.hl7.org/CodeSystem/umls" rel="nofollow">http://terminology.hl7.org/CodeSystem/umls</a></td> 
   <td>C0027051</td> 
   <td>myocardial infarction</td> 
  </tr> 
  <tr> 
   <td><a href="http://snomed.info/sct" rel="nofollow">http://snomed.info/sct</a></td> 
   <td>22298006</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-9-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-9-cm</a></td> 
   <td>410.90</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-10-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-10-cm</a></td> 
   <td>I21.9</td> 
   <td></td> 
  </tr> 
 </tbody> 
</table> 
<h2> <a id="enrich-an-allergy-intolerance" class="anchor" href="#enrich-an-allergy-intolerance" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enrich an allergy intolerance</h2> 
<p>In this example, a bundle with two allergy intolerance resources is sent to the nlp insights server. The first has a code for a food allergy with text &quot;peanut&quot;, and the second resource has a code for a medication allergy with text &quot;amoxicillin&quot;.</p> 
<p>Both resources contain only text and do not contain any codes for the allergy. The nlp-insights service will enrich the resources by adding UMLS, SNOMED, ICD-9 and ICD-10 codes.</p> 
<pre><code>curl  -w &quot;\n%{http_code}\n&quot; -s -o /tmp/output -XPOST localhost:5000/discoverInsights  -H 'Content-Type: application/json; charset=utf-8' --data-binary @- &lt;&lt; EOF
{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;id&quot;: &quot;abc&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: {
                &quot;id&quot;: &quot;pnt123&quot;,
                &quot;code&quot;: {
                    &quot;text&quot;: &quot;peanut&quot;
                },
                &quot;patient&quot;: {
                    &quot;reference&quot;: &quot;Patient/97b51b8d-1d1b-497f-866c-8df5d6cc05a7&quot;
                },
                &quot;resourceType&quot;: &quot;AllergyIntolerance&quot;
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;POST&quot;,
                &quot;url&quot;: &quot;Condition&quot;
            }
        },
        {
            &quot;resource&quot;: {
                &quot;id&quot;: &quot;amx123&quot;,
                &quot;code&quot;: {
                    &quot;text&quot;: &quot;amoxicillin&quot;
                },
                &quot;patient&quot;: {
                    &quot;reference&quot;: &quot;Patient/97b51b8d-1d1b-497f-866c-8df5d6cc05a7&quot;
                },
                &quot;resourceType&quot;: &quot;AllergyIntolerance&quot;
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;POST&quot;,
                &quot;url&quot;: &quot;Condition&quot;
            }
        }

    ]
}
EOF
</code></pre> 
<details>
 <summary>output</summary> 
 <p>200</p> 
</details> 
<p>A bundle is returned that contains the enriched allergy intolerance resources. Both entries in the bundle have method <em>PUT</em>, indicating that these contain enriched resources. Each resource now contains the additional derived code values.</p> 
<p><code>cat /tmp/output | jq</code></p> 
<details>
 <summary>Returned bundle</summary> 
 <pre><code>{
  &quot;entry&quot;: [
    {
      &quot;request&quot;: {
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;url&quot;: &quot;AllergyIntolerance/pnt123&quot;
      },
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;pnt123&quot;,
        &quot;meta&quot;: {
          &quot;extension&quot;: [
            {
              &quot;extension&quot;: [
                {
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                  &quot;valueIdentifier&quot;: {
                    &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                    &quot;value&quot;: &quot;dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4&quot;
                  }
                },
                {
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/path&quot;,
                  &quot;valueString&quot;: &quot;AllergyIntolerance.code.coding&quot;
                },
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/reference&quot;,
                      &quot;valueReference&quot;: {
                        &quot;reference&quot;: &quot;AllergyIntolerance/pnt123&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/reference-path&quot;,
                      &quot;valueString&quot;: &quot;AllergyIntolerance.code.text&quot;
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/evaluated-output&quot;,
                      &quot;valueAttachment&quot;: {
                        &quot;contentType&quot;: &quot;application/json&quot;,
                        &quot;data&quot;: &quot;eyJhdHRyaWJ1dGVWYWx1ZXMiOiBbeyJiZWdpbiI6IDAsICJlbmQiOiAxNCwgImNvdmVyZWRUZXh0IjogInBlYW51dCBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgInByZWZlcnJlZE5hbWUiOiAiYWxsZXJneSB0byBwZWFudXQiLCAidmFsdWVzIjogW3sidmFsdWUiOiAiYWxsZXJneSB0byBwZWFudXQifV0sICJzb3VyY2UiOiAiQ2xpbmljYWwgSW5zaWdodHMgLSBBdHRyaWJ1dGVzIiwgInNvdXJjZVZlcnNpb24iOiAidjEuMCIsICJjb25jZXB0IjogeyJ1aWQiOiA0fSwgIm5hbWUiOiAiRGlhZ25vc2lzIiwgImljZDlDb2RlIjogIjk5NS4zIiwgImljZDEwQ29kZSI6ICJaOTEuMDEwLFo5MS4wIiwgInNub21lZENvbmNlcHRJZCI6ICI5MTkzNTAwOSIsICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIlZBTElEIn0sICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC44OTYsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA5LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA5NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMTA5LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX0sICJjY3NDb2RlIjogIjI1MyJ9XSwgImNvbmNlcHRzIjogW3sidHlwZSI6ICJ1bWxzLkRpc2Vhc2VPclN5bmRyb21lIiwgInVpZCI6IDIsICJiZWdpbiI6IDAsICJlbmQiOiAxNCwgImNvdmVyZWRUZXh0IjogInBlYW51dCBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDU1OTQ3MCIsICJwcmVmZXJyZWROYW1lIjogIkFsbGVyZ3kgdG8gcGVhbnV0cyIsICJzZW1hbnRpY1R5cGUiOiAiZHN5biIsICJzb3VyY2UiOiAidW1scyIsICJzb3VyY2VWZXJzaW9uIjogIjIwMjBBQSIsICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIk5PX0RFQ0lTSU9OIn0sICJpY2Q5Q29kZSI6ICI5OTUuMyIsICJpY2QxMENvZGUiOiAiWjkxLjAsWjkxLjAxMCIsICJzbm9tZWRDb25jZXB0SWQiOiAiOTE5MzUwMDkiLCAibWVzaElkIjogIk0wMzUxODM2IiwgInZvY2FicyI6ICJNVEgsQ0hWLE1TSCxNRURMSU5FUExVUyxTTk9NRURDVF9VUyIsICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC44OTYsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA5LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA5NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMTA5LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX19LCB7InR5cGUiOiAiSUNEaWFnbm9zaXMiLCAiYmVnaW4iOiAwLCAiZW5kIjogMTQsICJjb3ZlcmVkVGV4dCI6ICJwZWFudXQgYWxsZXJneSIsICJuZWdhdGVkIjogZmFsc2UsICJjdWkiOiAiQzA1NTk0NzAiLCAicHJlZmVycmVkTmFtZSI6ICJBbGxlcmd5IHRvIHBlYW51dHMiLCAic291cmNlIjogIkNsaW5pY2FsIEluc2lnaHRzIC0gRGVyaXZlZCBDb25jZXB0cyIsICJzb3VyY2VWZXJzaW9uIjogInYxLjAiLCAiZGlzYW1iaWd1YXRpb25EYXRhIjogeyJ2YWxpZGl0eSI6ICJWQUxJRCJ9LCAiaWNkOUNvZGUiOiAiOTk1LjMiLCAiaWNkMTBDb2RlIjogIlo5MS4wLFo5MS4wMTAiLCAic25vbWVkQ29uY2VwdElkIjogIjkxOTM1MDA5IiwgIm1lc2hJZCI6ICJNMDM1MTgzNiIsICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC44OTYsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA5LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA5NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMTA5LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX0sICJydWxlSWQiOiAiNjk4ZjJiMTktMjdiNi00ZGFiLTkxNTAtN2Q3ZWYzYjAzYTVjIiwgImRlcml2ZWRGcm9tIjogW3sidWlkIjogMn1dfV0sICJTeW1wdG9tRGlzZWFzZUluZCI6IFt7InR5cGUiOiAiYWNpLlN5bXB0b21EaXNlYXNlSW5kIiwgInVpZCI6IDQsICJiZWdpbiI6IDAsICJlbmQiOiAxNCwgImNvdmVyZWRUZXh0IjogInBlYW51dCBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDU1OTQ3MCIsICJpY2QxMENvZGUiOiAiWjkxLjAxMCxaOTEuMCIsICJtb2RhbGl0eSI6ICJwb3NpdGl2ZSIsICJzeW1wdG9tRGlzZWFzZVN1cmZhY2VGb3JtIjogInBlYW51dCBhbGxlcmd5IiwgInNub21lZENvbmNlcHRJZCI6ICI5MTkzNTAwOSIsICJjY3NDb2RlIjogIjI1MyIsICJzeW1wdG9tRGlzZWFzZU5vcm1hbGl6ZWROYW1lIjogImFsbGVyZ3kgdG8gcGVhbnV0IiwgImljZDlDb2RlIjogIjk5NS4zIiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiVkFMSUQifSwgImluc2lnaHRNb2RlbERhdGEiOiB7ImRpYWdub3NpcyI6IHsidXNhZ2UiOiB7ImV4cGxpY2l0U2NvcmUiOiAwLjg5NiwgInBhdGllbnRSZXBvcnRlZFNjb3JlIjogMC4wMDksICJkaXNjdXNzZWRTY29yZSI6IDAuMDk1fSwgInN1c3BlY3RlZFNjb3JlIjogMC4xMDksICJzeW1wdG9tU2NvcmUiOiAwLjAwMSwgInRyYXVtYVNjb3JlIjogMC4wLCAiZmFtaWx5SGlzdG9yeVNjb3JlIjogMC4wMDN9fX1dLCAic3BlbGxDb3JyZWN0ZWRUZXh0IjogW3siY29ycmVjdGVkVGV4dCI6ICJwZWFudXQgYWxsZXJneSJ9XX0=&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-detail&quot;
                }
              ],
              &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight&quot;
            }
          ]
        },
        &quot;code&quot;: {
          &quot;coding&quot;: [
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;C0559470&quot;,
              &quot;display&quot;: &quot;allergy to peanut&quot;,
              &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/umls&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;91935009&quot;,
              &quot;system&quot;: &quot;http://snomed.info/sct&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;995.3&quot;,
              &quot;system&quot;: &quot;http://hl7.org/fhir/sid/icd-9-cm&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;Z91.010&quot;,
              &quot;system&quot;: &quot;http://hl7.org/fhir/sid/icd-10-cm&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;Z91.0&quot;,
              &quot;system&quot;: &quot;http://hl7.org/fhir/sid/icd-10-cm&quot;
            }
          ],
          &quot;text&quot;: &quot;peanut&quot;
        },
        &quot;patient&quot;: {
          &quot;reference&quot;: &quot;Patient/97b51b8d-1d1b-497f-866c-8df5d6cc05a7&quot;
        },
        &quot;resourceType&quot;: &quot;AllergyIntolerance&quot;
      }
    },
    {
      &quot;request&quot;: {
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;url&quot;: &quot;AllergyIntolerance/amx123&quot;
      },
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;amx123&quot;,
        &quot;meta&quot;: {
          &quot;extension&quot;: [
            {
              &quot;extension&quot;: [
                {
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                  &quot;valueIdentifier&quot;: {
                    &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                    &quot;value&quot;: &quot;eab3b2e367a16867de5b9249611542d2bd3df1f934db118237e31c2e&quot;
                  }
                },
                {
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/path&quot;,
                  &quot;valueString&quot;: &quot;AllergyIntolerance.code.coding&quot;
                },
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/reference&quot;,
                      &quot;valueReference&quot;: {
                        &quot;reference&quot;: &quot;AllergyIntolerance/amx123&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/reference-path&quot;,
                      &quot;valueString&quot;: &quot;AllergyIntolerance.code.text&quot;
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/evaluated-output&quot;,
                      &quot;valueAttachment&quot;: {
                        &quot;contentType&quot;: &quot;application/json&quot;,
                        &quot;data&quot;: &quot;eyJhdHRyaWJ1dGVWYWx1ZXMiOiBbeyJiZWdpbiI6IDAsICJlbmQiOiAxOSwgImNvdmVyZWRUZXh0IjogImFtb3hpY2lsbGluIGFsbGVyZ3kiLCAibmVnYXRlZCI6IGZhbHNlLCAicHJlZmVycmVkTmFtZSI6ICJhbGxlcmd5IHRvIGFtb3hpY2lsbGluIiwgInZhbHVlcyI6IFt7InZhbHVlIjogImFsbGVyZ3kgdG8gYW1veGljaWxsaW4ifV0sICJzb3VyY2UiOiAiQ2xpbmljYWwgSW5zaWdodHMgLSBBdHRyaWJ1dGVzIiwgInNvdXJjZVZlcnNpb24iOiAidjEuMCIsICJjb25jZXB0IjogeyJ1aWQiOiA0fSwgIm5hbWUiOiAiRGlhZ25vc2lzIiwgImljZDlDb2RlIjogIkU5MzAuMCw5OTUuMjciLCAiaWNkMTBDb2RlIjogIlo4OC4wIiwgInNub21lZENvbmNlcHRJZCI6ICIyOTQ1MDUwMDgiLCAiZGlzYW1iaWd1YXRpb25EYXRhIjogeyJ2YWxpZGl0eSI6ICJWQUxJRCJ9LCAiaW5zaWdodE1vZGVsRGF0YSI6IHsiZGlhZ25vc2lzIjogeyJ1c2FnZSI6IHsiZXhwbGljaXRTY29yZSI6IDAuOTE5LCAicGF0aWVudFJlcG9ydGVkU2NvcmUiOiAwLjAwNywgImRpc2N1c3NlZFNjb3JlIjogMC4wNzV9LCAic3VzcGVjdGVkU2NvcmUiOiAwLjA5NiwgInN5bXB0b21TY29yZSI6IDAuMDAxLCAidHJhdW1hU2NvcmUiOiAwLjAsICJmYW1pbHlIaXN0b3J5U2NvcmUiOiAwLjAwNH19LCAiY2NzQ29kZSI6ICIyNTMifV0sICJjb25jZXB0cyI6IFt7InR5cGUiOiAidW1scy5EaXNlYXNlT3JTeW5kcm9tZSIsICJ1aWQiOiAyLCAiYmVnaW4iOiAwLCAiZW5kIjogMTksICJjb3ZlcmVkVGV4dCI6ICJhbW94aWNpbGxpbiBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDU3MTQxNyIsICJwcmVmZXJyZWROYW1lIjogIkFsbGVyZ3kgdG8gYW1veGljaWxsaW4iLCAic2VtYW50aWNUeXBlIjogImRzeW4iLCAic291cmNlIjogInVtbHMiLCAic291cmNlVmVyc2lvbiI6ICIyMDIwQUEiLCAiZGlzYW1iaWd1YXRpb25EYXRhIjogeyJ2YWxpZGl0eSI6ICJOT19ERUNJU0lPTiJ9LCAiaWNkOUNvZGUiOiAiOTk1LjI3IiwgImljZDEwQ29kZSI6ICJaODguMCxaODguMSIsICJzbm9tZWRDb25jZXB0SWQiOiAiMjk0NTA1MDA4IiwgInZvY2FicyI6ICJDSFYsU05PTUVEQ1RfVVMiLCAiaW5zaWdodE1vZGVsRGF0YSI6IHsiZGlhZ25vc2lzIjogeyJ1c2FnZSI6IHsiZXhwbGljaXRTY29yZSI6IDAuOTE5LCAicGF0aWVudFJlcG9ydGVkU2NvcmUiOiAwLjAwNywgImRpc2N1c3NlZFNjb3JlIjogMC4wNzV9LCAic3VzcGVjdGVkU2NvcmUiOiAwLjA5NiwgInN5bXB0b21TY29yZSI6IDAuMDAxLCAidHJhdW1hU2NvcmUiOiAwLjAsICJmYW1pbHlIaXN0b3J5U2NvcmUiOiAwLjAwNH19fSwgeyJ0eXBlIjogIklDRGlhZ25vc2lzIiwgImJlZ2luIjogMCwgImVuZCI6IDE5LCAiY292ZXJlZFRleHQiOiAiYW1veGljaWxsaW4gYWxsZXJneSIsICJuZWdhdGVkIjogZmFsc2UsICJjdWkiOiAiQzA1NzE0MTciLCAicHJlZmVycmVkTmFtZSI6ICJBbGxlcmd5IHRvIGFtb3hpY2lsbGluIiwgInNvdXJjZSI6ICJDbGluaWNhbCBJbnNpZ2h0cyAtIERlcml2ZWQgQ29uY2VwdHMiLCAic291cmNlVmVyc2lvbiI6ICJ2MS4wIiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiVkFMSUQifSwgImljZDlDb2RlIjogIjk5NS4yNyIsICJpY2QxMENvZGUiOiAiWjg4LjAsWjg4LjEiLCAic25vbWVkQ29uY2VwdElkIjogIjI5NDUwNTAwOCIsICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC45MTksICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA3LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA3NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMDk2LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDA0fX0sICJydWxlSWQiOiAiNjk4ZjJiMTktMjdiNi00ZGFiLTkxNTAtN2Q3ZWYzYjAzYTVjIiwgImRlcml2ZWRGcm9tIjogW3sidWlkIjogMn1dfV0sICJNZWRpY2F0aW9uSW5kIjogW3sidHlwZSI6ICJhY2kuTWVkaWNhdGlvbkluZCIsICJiZWdpbiI6IDAsICJlbmQiOiAxMSwgImNvdmVyZWRUZXh0IjogImFtb3hpY2lsbGluIiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDAwMjY0NSIsICJkcnVnIjogW3siY292ZXJlZFRleHQiOiAiYW1veGljaWxsaW4iLCAiY3VpIjogIkMwMDAyNjQ1IiwgImNvbXBsZXgiOiAiZmFsc2UiLCAiZW5kIjogMTEsICJ0eXBlIjogImFjaS5JbmRfRHJ1ZyIsICJuYW1lMSI6IFt7InJ4Tm9ybUlEIjogIjcyMyIsICJjb3ZlcmVkVGV4dCI6ICJhbW94aWNpbGxpbiIsICJjdWkiOiAiQzAwMDI2NDUiLCAiZHJ1Z1N1cmZhY2VGb3JtIjogImFtb3hpY2lsbGluIiwgImRydWdOb3JtYWxpemVkTmFtZSI6ICJhbW94aWNpbGxpbiIsICJlbmQiOiAxMSwgInR5cGUiOiAiYWNpLkRydWdOYW1lIiwgImJlZ2luIjogMH1dLCAiYmVnaW4iOiAwfV0sICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIklOVkFMSUQiLCAiY29tbWVudCI6ICJDbGluaWNhbCBJbnNpZ2h0czogVGhpcyBjb25jZXB0IHdhcyBzaG9ydGVyIHRoYW4gYW4gb3ZlcmxhcHBpbmcgY29uY2VwdC4ifX1dLCAiU3ltcHRvbURpc2Vhc2VJbmQiOiBbeyJ0eXBlIjogImFjaS5TeW1wdG9tRGlzZWFzZUluZCIsICJ1aWQiOiA0LCAiYmVnaW4iOiAwLCAiZW5kIjogMTksICJjb3ZlcmVkVGV4dCI6ICJhbW94aWNpbGxpbiBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDU3MTQxNyIsICJpY2QxMENvZGUiOiAiWjg4LjAiLCAibW9kYWxpdHkiOiAicG9zaXRpdmUiLCAic3ltcHRvbURpc2Vhc2VTdXJmYWNlRm9ybSI6ICJhbW94aWNpbGxpbiBhbGxlcmd5IiwgInNub21lZENvbmNlcHRJZCI6ICIyOTQ1MDUwMDgiLCAiY2NzQ29kZSI6ICIyNTMiLCAic3ltcHRvbURpc2Vhc2VOb3JtYWxpemVkTmFtZSI6ICJhbGxlcmd5IHRvIGFtb3hpY2lsbGluIiwgImljZDlDb2RlIjogIkU5MzAuMCw5OTUuMjciLCAiZGlzYW1iaWd1YXRpb25EYXRhIjogeyJ2YWxpZGl0eSI6ICJWQUxJRCJ9LCAiaW5zaWdodE1vZGVsRGF0YSI6IHsiZGlhZ25vc2lzIjogeyJ1c2FnZSI6IHsiZXhwbGljaXRTY29yZSI6IDAuOTE5LCAicGF0aWVudFJlcG9ydGVkU2NvcmUiOiAwLjAwNywgImRpc2N1c3NlZFNjb3JlIjogMC4wNzV9LCAic3VzcGVjdGVkU2NvcmUiOiAwLjA5NiwgInN5bXB0b21TY29yZSI6IDAuMDAxLCAidHJhdW1hU2NvcmUiOiAwLjAsICJmYW1pbHlIaXN0b3J5U2NvcmUiOiAwLjAwNH19fV0sICJzcGVsbENvcnJlY3RlZFRleHQiOiBbeyJjb3JyZWN0ZWRUZXh0IjogImFtb3hpY2lsbGluIGFsbGVyZ3kifV19&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-detail&quot;
                }
              ],
              &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight&quot;
            }
          ]
        },
        &quot;code&quot;: {
          &quot;coding&quot;: [
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;eab3b2e367a16867de5b9249611542d2bd3df1f934db118237e31c2e&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;C0571417&quot;,
              &quot;display&quot;: &quot;allergy to amoxicillin&quot;,
              &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/umls&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;eab3b2e367a16867de5b9249611542d2bd3df1f934db118237e31c2e&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;294505008&quot;,
              &quot;system&quot;: &quot;http://snomed.info/sct&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;eab3b2e367a16867de5b9249611542d2bd3df1f934db118237e31c2e&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;E930.0&quot;,
              &quot;system&quot;: &quot;http://hl7.org/fhir/sid/icd-9-cm&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;eab3b2e367a16867de5b9249611542d2bd3df1f934db118237e31c2e&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;995.27&quot;,
              &quot;system&quot;: &quot;http://hl7.org/fhir/sid/icd-9-cm&quot;
            },
            {
              &quot;extension&quot;: [
                {
                  &quot;extension&quot;: [
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-id&quot;,
                      &quot;valueIdentifier&quot;: {
                        &quot;system&quot;: &quot;urn:alvearie.io/health_patterns/services/nlp_insights/acd&quot;,
                        &quot;value&quot;: &quot;eab3b2e367a16867de5b9249611542d2bd3df1f934db118237e31c2e&quot;
                      }
                    },
                    {
                      &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/category&quot;,
                      &quot;valueCodeableConcept&quot;: {
                        &quot;coding&quot;: [
                          {
                            &quot;code&quot;: &quot;natural-language-processing&quot;,
                            &quot;display&quot;: &quot;NLP&quot;,
                            &quot;system&quot;: &quot;http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system&quot;
                          }
                        ],
                        &quot;text&quot;: &quot;NLP&quot;
                      }
                    }
                  ],
                  &quot;url&quot;: &quot;http://ibm.com/fhir/cdm/StructureDefinition/insight-summary&quot;
                }
              ],
              &quot;code&quot;: &quot;Z88.0&quot;,
              &quot;system&quot;: &quot;http://hl7.org/fhir/sid/icd-10-cm&quot;
            }
          ],
          &quot;text&quot;: &quot;amoxicillin&quot;
        },
        &quot;patient&quot;: {
          &quot;reference&quot;: &quot;Patient/97b51b8d-1d1b-497f-866c-8df5d6cc05a7&quot;
        },
        &quot;resourceType&quot;: &quot;AllergyIntolerance&quot;
      }
    }
  ],
  &quot;type&quot;: &quot;transaction&quot;,
  &quot;resourceType&quot;: &quot;Bundle&quot;
}
</code></pre> 
</details> 
<h3> <a id="allergy-derived-codes" class="anchor" href="#allergy-derived-codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Allergy derived codes</h3> 
<p>The food allergy resource has been enriched with new codes.</p> 
<table> 
 <thead> 
  <tr> 
   <th>System</th> 
   <th>Code</th> 
   <th>Display</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td><a href="http://terminology.hl7.org/CodeSystem/umls" rel="nofollow">http://terminology.hl7.org/CodeSystem/umls</a></td> 
   <td>C0559470</td> 
   <td>allergy to peanut</td> 
  </tr> 
  <tr> 
   <td><a href="http://snomed.info/sct" rel="nofollow">http://snomed.info/sct</a></td> 
   <td>91935009</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-9-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-9-cm</a></td> 
   <td>995.3</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-10-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-10-cm</a></td> 
   <td>Z91.010</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-10-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-10-cm</a></td> 
   <td>Z91.0</td> 
   <td></td> 
  </tr> 
 </tbody> 
</table> 
<p>In a similar way, the medication allergy resource has been enriched with new codes.</p> 
<table> 
 <thead> 
  <tr> 
   <th>System</th> 
   <th>Code</th> 
   <th>Display</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td><a href="http://terminology.hl7.org/CodeSystem/umls" rel="nofollow">http://terminology.hl7.org/CodeSystem/umls</a></td> 
   <td>C0571417</td> 
   <td>allergy to amoxicillin</td> 
  </tr> 
  <tr> 
   <td><a href="http://snomed.info/sct" rel="nofollow">http://snomed.info/sct</a></td> 
   <td>294505008</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-9-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-9-cm</a></td> 
   <td>E930.0</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-9-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-9-cm</a></td> 
   <td>995.27</td> 
   <td></td> 
  </tr> 
  <tr> 
   <td><a href="http://hl7.org/fhir/sid/icd-10-cm" rel="nofollow">http://hl7.org/fhir/sid/icd-10-cm</a></td> 
   <td>Z88.0</td> 
   <td></td> 
  </tr> 
 </tbody> 
</table> 
<h2> <a id="evidence" class="anchor" href="#evidence" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Evidence</h2> 
<p>nlp-insights enriches resources according to the <a href="https://alvearie.io/alvearie-fhir-ig/index.html" rel="nofollow">Alvearie FHIR IG</a>.</p> 
<p>The nlp-insights service adds detailed information to the enriched resource to explain what caused the additional codes to be added.</p> 
<h3> <a id="insight-summary" class="anchor" href="#insight-summary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Insight Summary</h3> 
<p>Each coding that has been derived by NLP contains an insight summary extension that can be examined to determine which insight derived the code.</p> 
<p>For example consider the UMLS code C0559470 that was added to the allergy intolerance resource pnt123.</p> 
<details>
 <summary>C0559470 coding in AllergyIntolerance pnt123</summary> 
 <div class="highlight highlight-source-json">
  <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
    {
      <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
        {
          <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
          <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
            <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
            <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4<span class="pl-pds">&quot;</span></span>
          }
        },
        {
          <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/category<span class="pl-pds">&quot;</span></span>,
          <span class="pl-s"><span class="pl-pds">&quot;</span>valueCodeableConcept<span class="pl-pds">&quot;</span></span>: {
            <span class="pl-s"><span class="pl-pds">&quot;</span>coding<span class="pl-pds">&quot;</span></span>: [
              {
                <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>natural-language-processing<span class="pl-pds">&quot;</span></span>,
                <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>,
                <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/CodeSystem/insight-category-code-system<span class="pl-pds">&quot;</span></span>
              }
            ],
            <span class="pl-s"><span class="pl-pds">&quot;</span>text<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>NLP<span class="pl-pds">&quot;</span></span>
          }
        }
      ],
      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-summary<span class="pl-pds">&quot;</span></span>
    }
  ],
  <span class="pl-s"><span class="pl-pds">&quot;</span>code<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>C0559470<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>display<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>allergy to peanut<span class="pl-pds">&quot;</span></span>,
  <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://terminology.hl7.org/CodeSystem/umls<span class="pl-pds">&quot;</span></span>
}</pre>
 </div> 
</details>
<br /> 
<p>The summary extension has been added to the coding. The summary has an insight id and category. The insight id has a system and identifier that together identify the insight. In this example, the system tells us that the insight was discovered using ACD. The identifier value is unique (within the system) to this insight, and may be used to find the insight extension for the insight in the resource meta.</p> 
<p>When nlp-insights derives codes, it will create one insight for all derived codes that are created from the same text. It is common for all summary extensions to refer to the same insight id.</p> 
<p>The category tells us that the coding was derived using Natural Language Processing.</p> 
<h3> <a id="insight-extension-in-resource-meta" class="anchor" href="#insight-extension-in-resource-meta" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Insight Extension in Resource Meta</h3> 
<p>The insight identified by the summary extension has an insight extension in the resource's meta. The insight extension contains lots of details about what the insight applies to and why it was created.</p> 
<details>
 <summary>Insight extension in the meta for AllergyIntolerance pnt123</summary> 
 <div class="highlight highlight-source-json">
  <pre>{
  <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
    {
      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-id<span class="pl-pds">&quot;</span></span>,
      <span class="pl-s"><span class="pl-pds">&quot;</span>valueIdentifier<span class="pl-pds">&quot;</span></span>: {
        <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>urn:alvearie.io/health_patterns/services/nlp_insights/acd<span class="pl-pds">&quot;</span></span>,
        <span class="pl-s"><span class="pl-pds">&quot;</span>value<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>dced3e94fd2e5a77e6b6beb78019b1a89f17cb0a2731c4e31c24c5e4<span class="pl-pds">&quot;</span></span>
      }
    },
    {
      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/path<span class="pl-pds">&quot;</span></span>,
      <span class="pl-s"><span class="pl-pds">&quot;</span>valueString<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>AllergyIntolerance.code.coding<span class="pl-pds">&quot;</span></span>
    },
    {
      <span class="pl-s"><span class="pl-pds">&quot;</span>extension<span class="pl-pds">&quot;</span></span>: [
        {
          <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/reference<span class="pl-pds">&quot;</span></span>,
          <span class="pl-s"><span class="pl-pds">&quot;</span>valueReference<span class="pl-pds">&quot;</span></span>: {
            <span class="pl-s"><span class="pl-pds">&quot;</span>reference<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>AllergyIntolerance/pnt123<span class="pl-pds">&quot;</span></span>
          }
        },
        {
          <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/reference-path<span class="pl-pds">&quot;</span></span>,
          <span class="pl-s"><span class="pl-pds">&quot;</span>valueString<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>AllergyIntolerance.code.text<span class="pl-pds">&quot;</span></span>
        },
        {
          <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/evaluated-output<span class="pl-pds">&quot;</span></span>,
          <span class="pl-s"><span class="pl-pds">&quot;</span>valueAttachment<span class="pl-pds">&quot;</span></span>: {
            <span class="pl-s"><span class="pl-pds">&quot;</span>contentType<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>application/json<span class="pl-pds">&quot;</span></span>,
            &quot;data&quot;: &quot;eyJhdHRyaWJ1dGVWYWx1ZXMiOiBbeyJiZWdpbiI6IDAsICJlbmQiOiAxNCwgImNvdmVyZWRUZXh0IjogInBlYW51dCBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgInByZWZlcnJlZE5hbWUiOiAiYWxsZXJneSB0byBwZWFudXQiLCAidmFsdWVzIjogW3sidmFsdWUiOiAiYWxsZXJneSB0byBwZWFudXQifV0sICJzb3VyY2UiOiAiQ2xpbmljYWwgSW5zaWdodHMgLSBBdHRyaWJ1dGVzIiwgInNvdXJjZVZlcnNpb24iOiAidjEuMCIsICJjb25jZXB0IjogeyJ1aWQiOiA0fSwgIm5hbWUiOiAiRGlhZ25vc2lzIiwgImljZDlDb2RlIjogIjk5NS4zIiwgImljZDEwQ29kZSI6ICJaOTEuMDEwLFo5MS4wIiwgInNub21lZENvbmNlcHRJZCI6ICI5MTkzNTAwOSIsICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIlZBTElEIn0sICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC44OTYsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA5LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA5NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMTA5LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX0sICJjY3NDb2RlIjogIjI1MyJ9XSwgImNvbmNlcHRzIjogW3sidHlwZSI6ICJ1bWxzLkRpc2Vhc2VPclN5bmRyb21lIiwgInVpZCI6IDIsICJiZWdpbiI6IDAsICJlbmQiOiAxNCwgImNvdmVyZWRUZXh0IjogInBlYW51dCBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDU1OTQ3MCIsICJwcmVmZXJyZWROYW1lIjogIkFsbGVyZ3kgdG8gcGVhbnV0cyIsICJzZW1hbnRpY1R5cGUiOiAiZHN5biIsICJzb3VyY2UiOiAidW1scyIsICJzb3VyY2VWZXJzaW9uIjogIjIwMjBBQSIsICJkaXNhbWJpZ3VhdGlvbkRhdGEiOiB7InZhbGlkaXR5IjogIk5PX0RFQ0lTSU9OIn0sICJpY2Q5Q29kZSI6ICI5OTUuMyIsICJpY2QxMENvZGUiOiAiWjkxLjAsWjkxLjAxMCIsICJzbm9tZWRDb25jZXB0SWQiOiAiOTE5MzUwMDkiLCAibWVzaElkIjogIk0wMzUxODM2IiwgInZvY2FicyI6ICJNVEgsQ0hWLE1TSCxNRURMSU5FUExVUyxTTk9NRURDVF9VUyIsICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC44OTYsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA5LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA5NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMTA5LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX19LCB7InR5cGUiOiAiSUNEaWFnbm9zaXMiLCAiYmVnaW4iOiAwLCAiZW5kIjogMTQsICJjb3ZlcmVkVGV4dCI6ICJwZWFudXQgYWxsZXJneSIsICJuZWdhdGVkIjogZmFsc2UsICJjdWkiOiAiQzA1NTk0NzAiLCAicHJlZmVycmVkTmFtZSI6ICJBbGxlcmd5IHRvIHBlYW51dHMiLCAic291cmNlIjogIkNsaW5pY2FsIEluc2lnaHRzIC0gRGVyaXZlZCBDb25jZXB0cyIsICJzb3VyY2VWZXJzaW9uIjogInYxLjAiLCAiZGlzYW1iaWd1YXRpb25EYXRhIjogeyJ2YWxpZGl0eSI6ICJWQUxJRCJ9LCAiaWNkOUNvZGUiOiAiOTk1LjMiLCAiaWNkMTBDb2RlIjogIlo5MS4wLFo5MS4wMTAiLCAic25vbWVkQ29uY2VwdElkIjogIjkxOTM1MDA5IiwgIm1lc2hJZCI6ICJNMDM1MTgzNiIsICJpbnNpZ2h0TW9kZWxEYXRhIjogeyJkaWFnbm9zaXMiOiB7InVzYWdlIjogeyJleHBsaWNpdFNjb3JlIjogMC44OTYsICJwYXRpZW50UmVwb3J0ZWRTY29yZSI6IDAuMDA5LCAiZGlzY3Vzc2VkU2NvcmUiOiAwLjA5NX0sICJzdXNwZWN0ZWRTY29yZSI6IDAuMTA5LCAic3ltcHRvbVNjb3JlIjogMC4wMDEsICJ0cmF1bWFTY29yZSI6IDAuMCwgImZhbWlseUhpc3RvcnlTY29yZSI6IDAuMDAzfX0sICJydWxlSWQiOiAiNjk4ZjJiMTktMjdiNi00ZGFiLTkxNTAtN2Q3ZWYzYjAzYTVjIiwgImRlcml2ZWRGcm9tIjogW3sidWlkIjogMn1dfV0sICJTeW1wdG9tRGlzZWFzZUluZCI6IFt7InR5cGUiOiAiYWNpLlN5bXB0b21EaXNlYXNlSW5kIiwgInVpZCI6IDQsICJiZWdpbiI6IDAsICJlbmQiOiAxNCwgImNvdmVyZWRUZXh0IjogInBlYW51dCBhbGxlcmd5IiwgIm5lZ2F0ZWQiOiBmYWxzZSwgImN1aSI6ICJDMDU1OTQ3MCIsICJpY2QxMENvZGUiOiAiWjkxLjAxMCxaOTEuMCIsICJtb2RhbGl0eSI6ICJwb3NpdGl2ZSIsICJzeW1wdG9tRGlzZWFzZVN1cmZhY2VGb3JtIjogInBlYW51dCBhbGxlcmd5IiwgInNub21lZENvbmNlcHRJZCI6ICI5MTkzNTAwOSIsICJjY3NDb2RlIjogIjI1MyIsICJzeW1wdG9tRGlzZWFzZU5vcm1hbGl6ZWROYW1lIjogImFsbGVyZ3kgdG8gcGVhbnV0IiwgImljZDlDb2RlIjogIjk5NS4zIiwgImRpc2FtYmlndWF0aW9uRGF0YSI6IHsidmFsaWRpdHkiOiAiVkFMSUQifSwgImluc2lnaHRNb2RlbERhdGEiOiB7ImRpYWdub3NpcyI6IHsidXNhZ2UiOiB7ImV4cGxpY2l0U2NvcmUiOiAwLjg5NiwgInBhdGllbnRSZXBvcnRlZFNjb3JlIjogMC4wMDksICJkaXNjdXNzZWRTY29yZSI6IDAuMDk1fSwgInN1c3BlY3RlZFNjb3JlIjogMC4xMDksICJzeW1wdG9tU2NvcmUiOiAwLjAwMSwgInRyYXVtYVNjb3JlIjogMC4wLCAiZmFtaWx5SGlzdG9yeVNjb3JlIjogMC4wMDN9fX1dLCAic3BlbGxDb3JyZWN0ZWRUZXh0IjogW3siY29ycmVjdGVkVGV4dCI6ICJwZWFudXQgYWxsZXJneSJ9XX0=&quot;
          }
        }
      ],
      <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight-detail<span class="pl-pds">&quot;</span></span>
    }
  ],
  <span class="pl-s"><span class="pl-pds">&quot;</span>url<span class="pl-pds">&quot;</span></span>: <span class="pl-s"><span class="pl-pds">&quot;</span>http://ibm.com/fhir/cdm/StructureDefinition/insight<span class="pl-pds">&quot;</span></span>
}</pre>
 </div> 
</details>
<br /> 
<p>The extensions of interest within the insight extension are:</p> 
<table> 
 <thead> 
  <tr> 
   <th>extension</th> 
   <th>purpose</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td>insight-id</td> 
   <td>identifier for the insight.</td> 
  </tr> 
  <tr> 
   <td>path</td> 
   <td>HL7 FHIR Path to the part of this resource that the insight applies to. This is the location where derived codes have been added.</td> 
  </tr> 
  <tr> 
   <td>insight-detail</td> 
   <td>Detailed supporting evidence for the insight.</td> 
  </tr> 
 </tbody> 
</table> 
<h4> <a id="insight-detail" class="anchor" href="#insight-detail" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Insight detail</h4> 
<p>The insight detail extension provides information about why the insight got created:</p> 
<table> 
 <thead> 
  <tr> 
   <th>Extension</th> 
   <th>Purpose</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td>reference</td> 
   <td>The resource that contained the text that was used to create the insight. For enrichment, this will always be the enriched resource, the insight is derived from the same resource that the insight pertains to.</td> 
  </tr> 
  <tr> 
   <td>reference-path</td> 
   <td>HL7 FHIR Path that describes the location of the text used to create the insight (within reference)</td> 
  </tr> 
  <tr> 
   <td>evaluated-output</td> 
   <td>base64 response from the ACD Service</td> 
  </tr> 
 </tbody> 
</table>
</body>
</html>
